'use client';

import { useParams, useRouter } from 'next/navigation';
import { Navbar } from '@/components/layout/navbar';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Select } from '@/components/ui/select';
import { SECTIONS, SECTION_IDS, SectionId } from '@/lib/constants';
import { Printer } from 'lucide-react';
import { Button } from '@/components/ui/button';

// Cheat sheet content for each section
const CHEATSHEETS: Record<SectionId, { title: string; content: string[]; examples?: string[] }> = {
  calcul_mental: {
    title: 'Calcul Mental',
    content: [
      'üéØ OBJECTIF: Calculer rapidement et sans erreur (15 questions en 20 min)',
      '',
      'MULTIPLICATION RAPIDE',
      '‚Ä¢ Par 11: Additionner les chiffres adjacents (ex: 23√ó11 = 2|(2+3)|3 = 253)',
      '  ‚Üí Si somme > 9, reporter la retenue (ex: 48√ó11 = 4|(4+8)|8 = 528)',
      '‚Ä¢ Par 5: Diviser par 2 puis multiplier par 10 (ou ajouter 0 et √∑2)',
      '  ‚Üí Exemple: 24√ó5 = 24√∑2√ó10 = 120',
      '‚Ä¢ Par 15: Multiplier par 10 puis ajouter la moiti√© (n√ó15 = n√ó10 + n√ó5)',
      '  ‚Üí Exemple: 24√ó15 = 240 + 120 = 360',
      '‚Ä¢ Par 25: Diviser par 4 puis multiplier par 100',
      '  ‚Üí Exemple: 28√ó25 = 28√∑4√ó100 = 700',
      '‚Ä¢ Par 9: Multiplier par 10 puis soustraire (n√ó9 = n√ó10 - n)',
      '  ‚Üí Exemple: 13√ó9 = 130 - 13 = 117',
      '‚Ä¢ Carr√©s: (a+b)¬≤ = a¬≤ + 2ab + b¬≤ | (a-b)¬≤ = a¬≤ - 2ab + b¬≤',
      '  ‚Üí Exemple: 23¬≤ = (20+3)¬≤ = 400 + 120 + 9 = 529',
      '',
      'DIVISION RAPIDE',
      '‚Ä¢ Diviser par 4: Diviser par 2 deux fois (√∑4 = √∑2√∑2)',
      '  ‚Üí Exemple: 84√∑4 = 84√∑2√∑2 = 42√∑2 = 21',
      '‚Ä¢ Diviser par 8: Diviser par 2 trois fois (√∑8 = √∑2√∑2√∑2)',
      '  ‚Üí Exemple: 64√∑8 = 64√∑2√∑2√∑2 = 8',
      '‚Ä¢ Diviser par 5: Multiplier par 2 puis diviser par 10',
      '  ‚Üí Exemple: 125√∑5 = 125√ó2√∑10 = 250√∑10 = 25',
      '',
      'POURCENTAGES - √Ä M√âMORISER PAR C≈íUR',
      '‚Ä¢ 10% = √∑10 (d√©placer virgule 1 rang gauche)',
      '‚Ä¢ 20% = √∑5 (ou 10% √ó 2)',
      '‚Ä¢ 25% = √∑4 (ou 50% √∑ 2)',
      '‚Ä¢ 33% ‚âà √∑3 (ou 1/3)',
      '‚Ä¢ 50% = √∑2',
      '‚Ä¢ 75% = √ó3√∑4 (ou 50% + 25%)',
      '‚Ä¢ Augmentation de x%: multiplier par (1 + x/100)',
      '  ‚Üí Exemple: 100‚Ç¨ + 20% = 100 √ó 1.20 = 120‚Ç¨',
      '‚Ä¢ Diminution de x%: multiplier par (1 - x/100)',
      '  ‚Üí Exemple: 100‚Ç¨ - 15% = 100 √ó 0.85 = 85‚Ç¨',
      '‚Ä¢ PI√àGE: 100‚Ç¨ + 20% puis -20% ‚â† 100‚Ç¨ (120‚Ç¨ - 20% = 96‚Ç¨)',
      '',
      'FRACTIONS COURANTES',
      '‚Ä¢ 1/2 = 50% | 1/3 ‚âà 33% | 1/4 = 25% | 1/5 = 20%',
      '‚Ä¢ 2/3 ‚âà 67% | 3/4 = 75% | 1/10 = 10%',
      '',
      'ADDITION/SOUSTRACTION RAPIDE',
      '‚Ä¢ Arrondir puis ajuster: 48+37 = (48+2)+(37-2) = 50+35 = 85',
      '‚Ä¢ Utiliser les compl√©ments √† 10: 7+8 = 7+3+5 = 10+5 = 15',
      '‚Ä¢ Soustraire: 73-28 = 73-30+2 = 45',
      '',
      'TABLEAUX DE CALCUL MENTAL - M√âTHODE SYST√âMATIQUE',
      'Pour les calculs complexes, utiliser un tableau:',
      '',
      'Exemple: Calculer 47 √ó 23',
      '  M√©thode: 47 √ó 23 = 47 √ó (20 + 3) = 47√ó20 + 47√ó3',
      '  Tableau:',
      '  Calcul     |  R√©sultat',
      '  47 √ó 20    |   940',
      '  47 √ó 3     |   141',
      '  Total      |   1081',
      '',
      'Exemple: Calculer 15% de 240',
      '  M√©thode: D√©composer en pourcentages connus',
      '  Tableau:',
      '  Pourcentage  |  Calcul    |  R√©sultat',
      '     10%       |  240 √∑ 10  |    24',
      '      5%       |  24 √∑ 2    |    12',
      '     15%       |  24 + 12   |    36',
      '',
      'RACINES CARR√âES - ESTIMATION',
      '‚Ä¢ ‚àö50 ‚âà 7 (car 7¬≤=49) | ‚àö80 ‚âà 9 (car 9¬≤=81)',
      '‚Ä¢ Utiliser les carr√©s connus: 1¬≤ √† 20¬≤',
      '',
      'ASTUCES GAGNANTES',
      '‚Ä¢ V√©rifier la parit√© du r√©sultat (pair/impair)',
      '‚Ä¢ V√©rifier l\'ordre de grandeur (100, 1000, etc.)',
      '‚Ä¢ Utiliser les propri√©t√©s commutatives et associatives',
      '‚Ä¢ Factoriser quand possible',
      '‚Ä¢ √âliminer les z√©ros en fin de calcul',
      '',
      'ASTUCES GAGNANTES POUR AVOIR DE BONNES NOTES',
      '‚Ä¢ M√©morisez les carr√©s jusqu\'√† 20¬≤ et cubes jusqu\'√† 10¬≥ (flashcards)',
      '‚Ä¢ Connaissez les crit√®res de divisibilit√© par c≈ìur (1 √† 15)',
      '‚Ä¢ Apprenez les fractions courantes: 1/2, 1/3, 1/4, 1/5, 2/3, 3/4',
      '‚Ä¢ V√©rifiez toujours la parit√© du r√©sultat (pair/impair)',
      '‚Ä¢ V√©rifiez l\'ordre de grandeur (100, 1000, etc.)',
      '‚Ä¢ √âliminez les z√©ros en fin de calcul pour simplifier',
      '‚Ä¢ Utilisez les arrondis pour v√©rifier rapidement',
      '‚Ä¢ En cas de doute, testez avec des nombres simples',
      '',
      'EXEMPLES DE TEST - QUESTIONS TYPES',
      'Q1: 47 √ó 11 = ?',
      '  ‚Üí 4|(4+7)|7 = 4|11|7 = 517 (retenue: 4+1=5)',
      '  ‚Üí R√©ponse: 517',
      '',
      'Q2: 15% de 240 = ?',
      '  ‚Üí 10% = 24, 5% = 12, donc 15% = 24 + 12 = 36',
      '  ‚Üí R√©ponse: 36',
      '',
      'Q3: 84 √∑ 4 = ?',
      '  ‚Üí 84√∑2 = 42, 42√∑2 = 21',
      '  ‚Üí R√©ponse: 21',
      '',
      'Q4: Un prix passe de 80‚Ç¨ √† 100‚Ç¨. Quelle est l\'augmentation en % ?',
      '  ‚Üí ((100-80)/80) √ó 100 = (20/80) √ó 100 = 0.25 √ó 100 = 25%',
      '  ‚Üí R√©ponse: 25%',
      '',
      'Q5: 37 √ó 25 = ?',
      '  ‚Üí 37√∑4 = 9.25, donc 9.25√ó100 = 925',
      '  ‚Üí Ou: 37√ó100 = 3700, 3700√∑4 = 925',
      '  ‚Üí R√©ponse: 925',
      '',
      'Q6: 156 √∑ 8 = ?',
      '  ‚Üí 156√∑2 = 78, 78√∑2 = 39, 39√∑2 = 19.5',
      '  ‚Üí R√©ponse: 19.5',
      '',
      'Q7: 28% de 150 = ?',
      '  ‚Üí 25% = 37.5, 3% = 4.5, donc 28% = 37.5 + 4.5 = 42',
      '  ‚Üí R√©ponse: 42',
      '',
      'Q8: ‚àö72 ‚âà ?',
      '  ‚Üí ‚àö64 = 8, ‚àö81 = 9, donc ‚àö72 ‚âà 8.5',
      '  ‚Üí R√©ponse: environ 8.5',
    ],
    examples: [
      'Exemple 1: Calculer 37 √ó 15',
      '‚Üí 37√ó10 = 370, 37√ó5 = 185, donc 370+185 = 555',
      '',
      'Exemple 2: 28% de 250',
      '‚Üí 25% = 62.5, 3% = 7.5, donc 28% = 70',
      '',
      'Exemple 3: 156 √∑ 4',
      '‚Üí 156√∑2 = 78, 78√∑2 = 39',
    ],
  },
  raisonnement_logique: {
    title: 'Raisonnement Logique',
    content: [
      'üéØ OBJECTIF: Analyser des raisonnements et d√©duire des conclusions (15 questions en 20 min)',
      '',
      'LOGIQUE PROPOSITIONNELLE - FONDAMENTAL',
      '‚Ä¢ Si P alors Q (P ‚Üí Q): Faux SEULEMENT si P vrai ET Q faux',
      '  ‚Üí Table de v√©rit√©: V‚ÜíV=V, V‚ÜíF=F, F‚ÜíV=V, F‚ÜíF=V',
      '‚Ä¢ Contrapos√©e: Si P‚ÜíQ alors non-Q‚Üínon-P (√©quivalent)',
      '  ‚Üí Exemple: "S\'il pleut alors sol mouill√©" = "Si sol sec alors il ne pleut pas"',
      '‚Ä¢ ERREUR CLASSIQUE: Si P‚ÜíQ et Q vrai, on NE PEUT PAS conclure P (affirmation du cons√©quent)',
      '  ‚Üí Exemple: "Si il pleut alors sol mouill√©" + "sol mouill√©" ‚â† "il pleut"',
      '‚Ä¢ P si et seulement si Q (P ‚Üî Q): Vrai si P et Q ont m√™me valeur (√©quivalence)',
      '',
      'TABLEAUX DE V√âRIT√â - M√âTHODE SYST√âMATIQUE',
      'Tableau pour P ‚Üí Q (Si P alors Q):',
      '  P  |  Q  |  P‚ÜíQ',
      '  V  |  V  |   V',
      '  V  |  F  |   F  ‚Üê SEUL CAS FAUX',
      '  F  |  V  |   V',
      '  F  |  F  |   V',
      '',
      'Tableau pour P ‚Üî Q (P si et seulement si Q):',
      '  P  |  Q  |  P‚ÜîQ',
      '  V  |  V  |   V',
      '  V  |  F  |   F',
      '  F  |  V  |   F',
      '  F  |  F  |   V',
      '',
      'Tableau pour P ET Q:',
      '  P  |  Q  |  P‚àßQ',
      '  V  |  V  |   V',
      '  V  |  F  |   F',
      '  F  |  V  |   F',
      '  F  |  F  |   F',
      '',
      'Tableau pour P OU Q:',
      '  P  |  Q  |  P‚à®Q',
      '  V  |  V  |   V',
      '  V  |  F  |   V',
      '  F  |  V  |   V',
      '  F  |  F  |   F  ‚Üê SEUL CAS FAUX',
      '',
      'N√âGATION - LOIS DE DE MORGAN',
      '‚Ä¢ N√©gation de "tous": "au moins un ne"',
      '  ‚Üí non(‚àÄx P(x)) = ‚àÉx non-P(x)',
      '‚Ä¢ N√©gation de "aucun": "au moins un"',
      '  ‚Üí non(‚àÄx non-P(x)) = ‚àÉx P(x)',
      '‚Ä¢ N√©gation de "A ET B": "non-A OU non-B"',
      '  ‚Üí Exemple: "pas (riche ET c√©l√®bre)" = "pauvre OU inconnu"',
      '‚Ä¢ N√©gation de "A OU B": "non-A ET non-B"',
      '  ‚Üí Exemple: "pas (riche OU c√©l√®bre)" = "pauvre ET inconnu"',
      '',
      'QUANTIFICATEURS - DIFF√âRENCES CRUCIALES',
      '‚Ä¢ "Tous" = 100% (tous les X sont Y)',
      '‚Ä¢ "Quelques" = au moins un (peut √™tre tous)',
      '‚Ä¢ "Aucun" = 0% (aucun X n\'est Y)',
      '‚Ä¢ "Certains" = au moins un (comme "quelques")',
      '',
      'SYLLOGISMES - TRANSITIVIT√â',
      '‚Ä¢ Tous les A sont B, tous les B sont C ‚Üí Tous les A sont C ‚úì',
      '  ‚Üí Exemple: "Tous chats sont animaux" + "Tous animaux respirent" ‚Üí "Tous chats respirent"',
      '‚Ä¢ Aucun A n\'est B, tous les B sont C ‚Üí Aucun A n\'est C ‚úì',
      '‚Ä¢ Tous les A sont B, quelques B sont C ‚Üí Rien ne peut √™tre conclu ‚úó',
      '',
      'DIAGRAMMES DE VENN - M√âTHODE VISUELLE',
      '‚Ä¢ Dessiner des cercles qui se chevauchent',
      '‚Ä¢ Zone d\'intersection = √©l√©ments communs aux deux ensembles',
      '‚Ä¢ Zone ext√©rieure = √©l√©ments n\'appartenant √† aucun ensemble',
      '‚Ä¢ Exemple: A = √©tudiants, B = sportifs',
      '  ‚Üí Intersection = √©tudiants sportifs',
      '  ‚Üí Zone A seule = √©tudiants non-sportifs',
      '  ‚Üí Zone B seule = sportifs non-√©tudiants',
      '',
      'TABLEAUX √Ä DOUBLE ENTR√âE - M√âTHODE SYST√âMATIQUE',
      'Pour analyser les relations entre plusieurs propositions:',
      '',
      'Exemple: "Tous les A sont B. Quelques B sont C."',
      '  Tableau:',
      '        |  C   |  non-C',
      '  A     |  ?   |   ?',
      '  non-A |  ?   |   ?',
      '',
      'M√©thode:',
      '1. Remplir ce qui est certain (tous A sont B)',
      '2. D√©duire ce qui est impossible',
      '3. Identifier ce qui est possible mais non certain',
      '',
      'TABLEAUX DE D√âDUCTION - M√âTHODE EN 3 √âTAPES',
      '√âtape 1: Lister toutes les informations',
      '√âtape 2: Cr√©er un tableau avec toutes les possibilit√©s',
      '√âtape 3: √âliminer les impossibilit√©s',
      '',
      'Exemple: "X est n√©cessaire pour Y. Y est suffisant pour Z."',
      '  Tableau:',
      '  X  |  Y  |  Z  |  Possible ?',
      '  V  |  V  |  V  |   OUI',
      '  V  |  V  |  F  |   NON (Y suffit pour Z)',
      '  V  |  F  |  V  |   NON (X n√©cessaire pour Y)',
      '  V  |  F  |  F  |   OUI',
      '  F  |  V  |  V  |   NON (X n√©cessaire pour Y)',
      '  F  |  V  |  F  |   NON (X n√©cessaire pour Y)',
      '  F  |  F  |  V  |   NON (X n√©cessaire pour Y)',
      '  F  |  F  |  F  |   OUI',
      '',
      'CONDITIONS N√âCESSAIRES VS SUFFISANTES',
      '‚Ä¢ N√©cessaire: Sans elle, impossible (mais ne garantit pas)',
      '  ‚Üí Exemple: "Avoir 18 ans" est n√©cessaire pour voter',
      '‚Ä¢ Suffisante: Avec elle, garanti (mais pas la seule)',
      '  ‚Üí Exemple: "√ätre pr√©sident" est suffisant pour avoir le pouvoir',
      '‚Ä¢ N√©cessaire ET suffisante: √âquivalence (si et seulement si)',
      '',
      'PREUVE PAR L\'ABSURDE',
      '‚Ä¢ Si on arrive √† "A ET non-A", alors l\'hypoth√®se initiale est fausse',
      '',
      'PI√àGES FR√âQUENTS',
      '‚Ä¢ Ne pas confondre "si" et "seulement si"',
      '‚Ä¢ "Seulement si" = condition n√©cessaire (A seulement si B = si A alors B)',
      '‚Ä¢ Attention aux quantificateurs (tous, certains, aucun)',
      '‚Ä¢ V√©rifier la r√©ciproque d\'une implication',
      '‚Ä¢ Ne pas inverser les quantificateurs',
      '',
      'ASTUCES GAGNANTES POUR AVOIR DE BONNES NOTES',
      '‚Ä¢ Dessinez des diagrammes de Venn pour visualiser',
      '‚Ä¢ Testez avec des exemples concrets si vous √™tes bloqu√©',
      '‚Ä¢ Attention aux mots "tous", "aucun", "quelques" - ils changent tout !',
      '‚Ä¢ La contrapos√©e est votre amie: P‚ÜíQ = non-Q‚Üínon-P',
      '‚Ä¢ Ne confondez JAMAIS "si" et "seulement si"',
      '‚Ä¢ V√©rifiez toujours la r√©ciproque d\'une implication',
      '‚Ä¢ Utilisez des tableaux de v√©rit√© pour les cas complexes',
      '',
      'EXEMPLES DE TEST - QUESTIONS TYPES',
      'Q1: "Tous les √©tudiants sont travailleurs. Quelques travailleurs sont sportifs."',
      '  ‚Üí Peut-on conclure que quelques √©tudiants sont sportifs ?',
      '  ‚Üí NON (les sportifs peuvent √™tre d\'autres travailleurs)',
      '  ‚Üí R√©ponse: Non, on ne peut pas conclure',
      '',
      'Q2: Si "A‚ÜíB" est vrai et B est faux, que peut-on dire de A ?',
      '  ‚Üí Contrapos√©e: non-B‚Üínon-A, donc si B faux alors A faux',
      '  ‚Üí R√©ponse: A est faux',
      '',
      'Q3: La n√©gation de "Tous les X sont Y" est ?',
      '  ‚Üí "Au moins un X n\'est pas Y"',
      '  ‚Üí R√©ponse: "Au moins un X n\'est pas Y"',
      '',
      'Q4: "Tous les chats sont des animaux. Tous les animaux respirent."',
      '  ‚Üí Que peut-on conclure ?',
      '  ‚Üí Transitivit√©: Tous les chats respirent ‚úì',
      '  ‚Üí R√©ponse: Tous les chats respirent',
      '',
      'Q5: "Si il pleut alors le sol est mouill√©. Le sol est mouill√©."',
      '  ‚Üí Peut-on conclure qu\'il pleut ?',
      '  ‚Üí NON (erreur classique: affirmation du cons√©quent)',
      '  ‚Üí Le sol peut √™tre mouill√© pour d\'autres raisons',
      '  ‚Üí R√©ponse: Non, on ne peut pas conclure',
      '',
      'Q6: N√©gation de "Tous les √©tudiants sont pr√©sents ET tous sont √† l\'heure"',
      '  ‚Üí Loi de De Morgan: "Au moins un √©tudiant n\'est pas pr√©sent OU au moins un n\'est pas √† l\'heure"',
      '  ‚Üí R√©ponse: "Au moins un √©tudiant n\'est pas pr√©sent OU au moins un n\'est pas √† l\'heure"',
    ],
    examples: [
      'Exemple 1: "Tous les m√©decins sont dipl√¥m√©s. Tous les dipl√¥m√©s ont √©tudi√©."',
      '‚Üí Conclusion: Tous les m√©decins ont √©tudi√© ‚úì',
      '',
      'Exemple 2: "Si il fait beau alors je vais √† la plage. Je vais √† la plage."',
      '‚Üí Peut-on conclure qu\'il fait beau ? NON (erreur classique)',
      '',
      'Exemple 3: N√©gation de "Tous les chats sont noirs"',
      '‚Üí "Au moins un chat n\'est pas noir"',
    ],
  },
  expression: {
    title: 'Expression',
    content: [
      'üéØ OBJECTIF: Ma√Ætriser la grammaire et l\'orthographe (15 questions en 20 min)',
      '',
      'ORTHOGRAPHE - CONFUSIONS FR√âQUENTES',
      '‚Ä¢ a/√†: "a" = verbe avoir (3e pers.) | "√†" = pr√©position',
      '  ‚Üí Test: Remplacer par "avait" ‚Üí "Il a faim" = "Il avait faim" ‚úì',
      '  ‚Üí "Il va √† Paris" ‚Üí "Il va avait Paris" ‚úó donc "√†"',
      '‚Ä¢ ou/o√π: "ou" = conjonction (ou bien) | "o√π" = pronom/adverbe de lieu',
      '  ‚Üí Test: Remplacer par "ou bien" ‚Üí "Tu veux du th√© ou du caf√© ?" ‚úì',
      '  ‚Üí "O√π vas-tu ?" ‚Üí "Ou bien vas-tu ?" ‚úó donc "o√π"',
      '‚Ä¢ ce/se: "ce" = d√©terminant d√©monstratif | "se" = pronom r√©fl√©chi',
      '  ‚Üí "Ce livre" (d√©terminant) | "Il se lave" (pronom)',
      '‚Ä¢ ces/ses: "ces" = d√©monstratif | "ses" = possessif',
      '  ‚Üí Test: "Ces livres" = ces livres-l√† | "Ses livres" = les livres √† lui',
      '  ‚Üí Test possessif: Remplacer par "les siens" ‚Üí "Ses livres" = "les siens" ‚úì',
      '',
      'ACCORD DU PARTICIPE PASS√â - R√àGLES ESSENTIELLES',
      '‚Ä¢ Avec "√™tre": TOUJOURS accord√© avec le sujet',
      '  ‚Üí "Elle est partie" (accord avec "elle")',
      '  ‚Üí "Ils sont arriv√©s" (accord avec "ils")',
      '‚Ä¢ Avec "avoir": Accord√© avec le COD SEULEMENT si plac√© AVANT le verbe',
      '  ‚Üí "J\'ai cueilli des fleurs" (COD "fleurs" apr√®s ‚Üí invariable)',
      '  ‚Üí "Les fleurs que j\'ai cueillies" (COD "que" avant ‚Üí accord√©)',
      '  ‚Üí Test: Poser la question "J\'ai cueilli quoi ?" ‚Üí "des fleurs" (apr√®s) = invariable',
      '',
      'SUBJONCTIF - QUAND L\'UTILISER',
      '‚Ä¢ Apr√®s "il faut que", "bien que", "pour que", "avant que"',
      '  ‚Üí "Il faut que tu viennes" (subjonctif)',
      '  ‚Üí "Bien qu\'il pleuve" (subjonctif)',
      '‚Ä¢ Apr√®s expressions de doute/volont√©: "je doute que", "je veux que"',
      '  ‚Üí "Je doute qu\'il vienne" (subjonctif)',
      '‚Ä¢ Apr√®s "il est important que", "il est n√©cessaire que"',
      '',
      'ACCORDS COMPLEXES',
      '‚Ä¢ "La plupart" + nom: Accord avec le compl√©ment',
      '  ‚Üí "La plupart des gens sont" (accord avec "gens")',
      '  ‚Üí "La plupart du temps est" (accord avec "temps")',
      '‚Ä¢ "Une foule de", "une majorit√© de": Accord avec le compl√©ment',
      '  ‚Üí "Une foule de gens sont" (accord avec "gens")',
      '‚Ä¢ "Tout": Invariable sauf devant nom f√©minin singulier',
      '  ‚Üí "Tout le monde" (masculin, invariable)',
      '  ‚Üí "Toute la journ√©e" (f√©minin, accord√©)',
      '  ‚Üí "Tous les jours" (pluriel, accord√©)',
      '‚Ä¢ "M√™me": Adjectif (accord√©) ou adverbe (invariable)',
      '  ‚Üí "Les m√™mes personnes" (adjectif, accord√©)',
      '  ‚Üí "M√™me les enfants" (adverbe, invariable)',
      '  ‚Üí Test: Peut-on le supprimer ? Si oui = adverbe',
      '‚Ä¢ "Demi": Invariable avant le nom, accord√© apr√®s',
      '  ‚Üí "Une demi-heure" (avant, invariable)',
      '  ‚Üí "Une heure et demie" (apr√®s, accord√©)',
      '‚Ä¢ "Quelque": Invariable devant nombre, pluriel devant nom',
      '  ‚Üí "Quelque 200 personnes" (devant nombre, invariable)',
      '  ‚Üí "Quelques personnes" (devant nom, pluriel)',
      '',
      'SYNTAXE',
      '‚Ä¢ √âviter les r√©p√©titions (utiliser des synonymes)',
      '‚Ä¢ Respecter la concordance des temps',
      '‚Ä¢ Placer correctement les pronoms compl√©ments',
      '‚Ä¢ √âviter les constructions lourdes',
      '',
      'TABLEAUX D\'ACCORD - M√âTHODE SYST√âMATIQUE',
      'Pour d√©terminer les accords complexes:',
      '',
      'Tableau d\'accord du participe pass√© avec "avoir":',
      '  COD plac√©  |  Exemple                    |  Accord',
      '  Avant      |  "Les fleurs que j\'ai cueillies" |  OUI',
      '  Apr√®s      |  "J\'ai cueilli des fleurs"      |  NON',
      '',
      'Tableau d\'accord avec collectifs:',
      '  Expression        |  Accord avec        |  Exemple',
      '  "La plupart de"   |  Compl√©ment        |  "La plupart des gens sont"',
      '  "Une foule de"    |  Compl√©ment        |  "Une foule de gens sont"',
      '  "Avec"            |  Sujet             |  "L\'√©quipe avec supporters est"',
      '',
      'Tableau des tests orthographiques:',
      '  Mot    |  Test                    |  Si marche =  |  Sinon =',
      '  a/√†    |  Remplacer par "avait"   |  "a" (verbe)  |  "√†" (pr√©position)',
      '  ou/o√π  |  Remplacer par "ou bien" |  "ou" (conj.) |  "o√π" (lieu)',
      '  ces/ses|  Remplacer par "les siens"| "ses" (poss.)|  "ces" (d√©m.)',
      '',
      'VOCABULAIRE - PARONYMES FR√âQUENTS',
      '‚Ä¢ affecter/effacer: "affecter" = toucher/influencer | "effacer" = supprimer',
      '‚Ä¢ amener/emmener: "amener" = vers soi | "emmener" = avec soi',
      '‚Ä¢ diff√©rer/transf√©rer: "diff√©rer" = reporter | "transf√©rer" = d√©placer',
      '‚Ä¢ √©minent/imminent: "√©minent" = remarquable | "imminent" = proche',
      '',
      'PI√àGES CLASSIQUES',
      '‚Ä¢ "Avec" + nom: Accord g√©n√©ralement avec le sujet (pas le compl√©ment)',
      '  ‚Üí "L\'√©quipe avec ses supporters est venue" (accord avec "√©quipe")',
      '  ‚Üí Exception: Si "avec" = "et", accord au pluriel',
      '‚Ä¢ Ne pas confondre "davantage" (adverbe) et "d\'avantage" (nom)',
      '',
      'ASTUCES GAGNANTES POUR AVOIR DE BONNES NOTES',
      '‚Ä¢ Testez "a/√†" en rempla√ßant par "avait"',
      '‚Ä¢ Testez "ou/o√π" en rempla√ßant par "ou bien"',
      '‚Ä¢ Testez "ces/ses" en rempla√ßant par "les siens"',
      '‚Ä¢ Pour participe pass√© avec "avoir": posez "J\'ai fait QUOI ?"',
      '‚Ä¢ M√©morisez les expressions qui demandent le subjonctif',
      '‚Ä¢ Attention aux accords avec "la plupart", "une foule de"',
      '‚Ä¢ V√©rifiez toujours l\'accord de "tout" (invariable sauf f√©minin singulier)',
      '',
      'EXEMPLES DE TEST - QUESTIONS TYPES',
      'Q1: "Les fleurs que j\'ai (cueilli/cueillies)"',
      '  ‚Üí COD "que" = fleurs, plac√© AVANT ‚Üí accord√©',
      '  ‚Üí R√©ponse: cueillies',
      '',
      'Q2: "Il (a/√†) mang√©"',
      '  ‚Üí Test: "Il avait mang√©" ‚úì donc "a" (verbe avoir)',
      '  ‚Üí R√©ponse: a',
      '',
      'Q3: "Il va (a/√†) Paris"',
      '  ‚Üí Test: "Il va avait Paris" ‚úó donc "√†" (pr√©position)',
      '  ‚Üí R√©ponse: √†',
      '',
      'Q4: "Tous les √©tudiants (est/sont) pr√©sents"',
      '  ‚Üí Sujet "√©tudiants" (pluriel) ‚Üí verbe au pluriel',
      '  ‚Üí R√©ponse: sont',
      '',
      'Q5: "La plupart des gens (est/sont)"',
      '  ‚Üí Accord avec "gens" (compl√©ment) ‚Üí pluriel',
      '  ‚Üí R√©ponse: sont',
      '',
      'Q6: "Bien qu\'il (pleuve/pleut)"',
      '  ‚Üí Apr√®s "bien que" ‚Üí subjonctif',
      '  ‚Üí R√©ponse: pleuve',
      '',
      'Q7: "Les pommes que j\'ai (achet√©/achet√©es)"',
      '  ‚Üí COD "que" = pommes (f√©minin pluriel), avant le verbe ‚Üí accord√©',
      '  ‚Üí R√©ponse: achet√©es',
      '',
      'Q8: "(Tout/Tous) le monde est pr√©sent"',
      '  ‚Üí "Monde" est masculin singulier ‚Üí "tout" invariable',
      '  ‚Üí R√©ponse: Tout',
    ],
    examples: [
      'Exemple 1: "Les pommes que j\'ai (achet√©/achet√©es)"',
      '‚Üí Achet√©es (COD "que" = pommes, plac√© avant)',
      '',
      'Exemple 2: "Il (a/√†) besoin d\'aide"',
      '‚Üí a (verbe avoir: "Il avait besoin")',
      '',
      'Exemple 3: "Bien qu\'il (pleuve/pleut)"',
      '‚Üí pleuve (subjonctif apr√®s "bien que")',
    ],
  },
  comprehension_textes: {
    title: 'Compr√©hension de Textes',
    content: [
      'üéØ OBJECTIF: Comprendre et analyser des textes (15 questions en 20 min)',
      '',
      'M√âTHODE DE LECTURE EFFICACE',
      '1. Lire D\'ABORD les questions (30 secondes)',
      '   ‚Üí Identifier ce qui est demand√©',
      '   ‚Üí Rep√©rer les mots-cl√©s √† chercher',
      '2. Lire le texte une premi√®re fois (2-3 min)',
      '   ‚Üí Comprendre le sens g√©n√©ral',
      '   ‚Üí Identifier la th√®se principale',
      '   ‚Üí Rep√©rer la structure (intro, d√©veloppement, conclusion)',
      '3. Relire en cherchant les r√©ponses (5-7 min)',
      '   ‚Üí Surligner les passages pertinents',
      '   ‚Üí Noter les arguments et exemples',
      '4. R√©pondre aux questions (8-10 min)',
      '',
      'IDENTIFIER L\'ID√âE PRINCIPALE',
      '‚Ä¢ Chercher dans l\'introduction (1er paragraphe)',
      '‚Ä¢ Chercher dans la conclusion (dernier paragraphe)',
      '‚Ä¢ Identifier la th√®se centrale de l\'auteur',
      '‚Ä¢ √âviter les d√©tails secondaires',
      '‚Ä¢ L\'id√©e principale = ce que l\'auteur veut prouver/d√©montrer',
      '',
      'MOTS-CL√âS ET RELATIONS LOGIQUES',
      '‚Ä¢ Mots de cause: "car", "parce que", "en effet", "puisque"',
      '‚Ä¢ Mots de cons√©quence: "donc", "ainsi", "par cons√©quent", "de ce fait"',
      '‚Ä¢ Mots d\'opposition: "mais", "cependant", "n√©anmoins", "pourtant"',
      '‚Ä¢ Mots d\'addition: "de plus", "en outre", "√©galement"',
      '‚Ä¢ Mots de but: "pour", "afin de", "dans le but de"',
      '',
      'TYPES DE QUESTIONS',
      '‚Ä¢ Id√©e principale: Chercher la th√®se de l\'auteur',
      '  ‚Üí Souvent dans l\'intro ou la conclusion',
      '‚Ä¢ D√©tails: Rep√©rer les informations pr√©cises dans le texte',
      '  ‚Üí Attention aux dates, chiffres, noms propres',
      '‚Ä¢ Inf√©rence: D√©duire ce qui n\'est pas explicitement dit',
      '  ‚Üí Mais bas√© sur le texte (ne pas inventer)',
      '  ‚Üí Exemple: Si texte dit "il pleuvait" ‚Üí on inf√®re "sol mouill√©"',
      '‚Ä¢ Vocabulaire: Comprendre le sens en contexte',
      '  ‚Üí Chercher les synonymes/antonymes dans le texte',
      '‚Ä¢ Ton de l\'auteur: Analyser les adjectifs, verbes, figures de style',
      '  ‚Üí Critique: "pr√©tend", "affirme sans preuve"',
      '  ‚Üí Neutre: faits objectifs',
      '  ‚Üí √âlogieux: "remarquable", "exceptionnel"',
      '',
      'STRUCTURE D\'UN TEXTE ARGUMENTATIF',
      '‚Ä¢ Introduction: Pr√©sente la th√®se',
      '‚Ä¢ D√©veloppement: Arguments pour/contre',
      '‚Ä¢ Conclusion: Synth√®se et ouverture',
      '',
      'STRAT√âGIES GAGNANTES',
      '‚Ä¢ Lire d\'abord les questions pour orienter la lecture',
      '‚Ä¢ Surligner les passages importants (si autoris√©)',
      '‚Ä¢ Attention aux mots de liaison (mais, cependant, donc)',
      '‚Ä¢ Distinguer l\'opinion de l\'auteur des faits',
      '‚Ä¢ Identifier les synonymes et antonymes',
      '‚Ä¢ Rep√©rer les contradictions dans le texte',
      '‚Ä¢ Ne pas lire mot √† mot, mais par id√©es',
      '',
      'PI√àGES √Ä √âVITER',
      '‚Ä¢ Ne pas confondre l\'opinion de l\'auteur avec la v√¥tre',
      '‚Ä¢ √âviter les interpr√©tations trop personnelles',
      '‚Ä¢ V√©rifier que la r√©ponse est bien dans le texte',
      '‚Ä¢ Ne pas inventer des informations',
      '‚Ä¢ Attention aux questions pi√®ges avec "tous", "aucun", "jamais"',
      '‚Ä¢ Ne pas se fier uniquement √† la premi√®re impression',
      '',
      'ASTUCES GAGNANTES POUR AVOIR DE BONNES NOTES',
      '‚Ä¢ LISEZ D\'ABORD LES QUESTIONS (30 sec) - √ßa change tout !',
      '‚Ä¢ Surlignez les mots-cl√©s dans le texte (si autoris√©)',
      '‚Ä¢ L\'id√©e principale = souvent dans l\'intro OU la conclusion',
      '‚Ä¢ Attention aux mots de liaison: "mais", "cependant", "donc"',
      '‚Ä¢ Distinguez l\'opinion de l\'auteur des faits',
      '‚Ä¢ Pour les inf√©rences: bas√© sur le texte, PAS invent√©',
      '‚Ä¢ Le ton = analyser les adjectifs et verbes utilis√©s',
      '‚Ä¢ Ne confondez pas votre opinion avec celle de l\'auteur',
      '',
      'EXEMPLES DE TEST - QUESTIONS TYPES',
      'Q1: "Quelle est l\'id√©e principale du texte ?"',
      '  ‚Üí Chercher dans l\'intro (1er paragraphe) ou conclusion (dernier)',
      '  ‚Üí √âviter les d√©tails secondaires',
      '  ‚Üí R√©ponse: La th√®se centrale de l\'auteur',
      '',
      'Q2: "On peut d√©duire du texte que..."',
      '  ‚Üí Inf√©rence: bas√© sur le texte, pas invent√©',
      '  ‚Üí Exemple: Si texte dit "il pleuvait" ‚Üí on inf√®re "sol mouill√©"',
      '  ‚Üí R√©ponse: Conclusion logique d√©duite du texte',
      '',
      'Q3: "Le mot \'remarquable\' dans le contexte signifie..."',
      '  ‚Üí Chercher le contexte, synonymes/antonymes dans le texte',
      '  ‚Üí Analyser comment le mot est utilis√©',
      '  ‚Üí R√©ponse: Sens en contexte (souvent positif)',
      '',
      'Q4: "L\'auteur a un ton..."',
      '  ‚Üí Analyser les adjectifs et verbes utilis√©s',
      '  ‚Üí Critique: "pr√©tend", "affirme sans preuve"',
      '  ‚Üí Neutre: faits objectifs',
      '  ‚Üí √âlogieux: "remarquable", "exceptionnel"',
      '  ‚Üí R√©ponse: Selon les mots utilis√©s',
      '',
      'Q5: "Le texte mentionne que X, cependant Y. Que peut-on conclure ?"',
      '  ‚Üí "Cependant" = opposition',
      '  ‚Üí X et Y sont contradictoires',
      '  ‚Üí R√©ponse: Opposition entre X et Y',
      '',
      'Q6: "Selon le texte, quelle affirmation est vraie ?"',
      '  ‚Üí V√©rifier chaque affirmation dans le texte',
      '  ‚Üí Attention aux mots "tous", "aucun", "jamais"',
      '  ‚Üí R√©ponse: Celle qui est explicitement dans le texte',
    ],
    examples: [
      'Exemple 1: Texte parle de "l\'importance de l\'√©ducation"',
      '‚Üí Id√©e principale: L\'√©ducation est essentielle (pas les d√©tails)',
      '',
      'Exemple 2: "L\'auteur utilise le terme \'remarquable\'"',
      '‚Üí Ton √©logieux/positif',
      '',
      'Exemple 3: "Le texte mentionne que X, cependant Y"',
      '‚Üí Opposition: X et Y sont contradictoires',
    ],
  },
  conditions_minimales: {
    title: 'Conditions Minimales',
    content: [
      'üéØ OBJECTIF: Identifier les conditions minimales n√©cessaires (15 questions en 20 min)',
      '',
      'D√âFINITIONS FONDAMENTALES',
      '‚Ä¢ Condition N√âCESSAIRE: Sans elle, le r√©sultat est IMPOSSIBLE',
      '  ‚Üí Exemple: "Avoir 18 ans" est n√©cessaire pour voter',
      '  ‚Üí Sans 18 ans, impossible de voter',
      '  ‚Üí Mais avoir 18 ans ne garantit pas qu\'on vote',
      '‚Ä¢ Condition SUFFISANTE: Avec elle, le r√©sultat est GARANTI',
      '  ‚Üí Exemple: "√ätre pr√©sident" est suffisant pour avoir le pouvoir',
      '  ‚Üí Si on est pr√©sident, on a le pouvoir',
      '  ‚Üí Mais d\'autres conditions peuvent aussi suffire',
      '‚Ä¢ Condition N√âCESSAIRE ET SUFFISANTE: √âquivalence (si et seulement si)',
      '  ‚Üí Exemple: "√ätre triangle √©quilat√©ral" ‚Üî "avoir 3 c√¥t√©s √©gaux"',
      '',
      'M√âTHODE DE R√âSOLUTION - TABLEAU SYST√âMATIQUE',
      '√âtape 1: Lister TOUTES les conditions donn√©es',
      '√âtape 2: Cr√©er un tableau de test',
      '',
      'Tableau de test des conditions:',
      '  Condition |  Avec  |  Sans  |  R√©sultat  |  N√©cessaire ?',
      '     A      |   ‚úì    |   ‚úó    |  Impossible |     OUI',
      '     B      |   ‚úì    |   ‚úì    |  Possible   |     NON',
      '     C      |   ‚úì    |   ‚úó    |  Impossible |     OUI',
      '',
      '√âtape 3: Identifier les d√©pendances',
      '  ‚Üí Si A implique B, alors B est redondant si A est pr√©sent',
      '  ‚Üí Tableau des implications:',
      '        |  A  |  B  |  C',
      '    A   |  -  |  ‚Üí  |  -',
      '    B   |  -  |  -  |  ‚Üí',
      '    C   |  -  |  -  |  -',
      '',
      '√âtape 4: Tester en retirant chaque condition',
      '  ‚Üí Si le r√©sultat reste possible, la condition n\'est pas n√©cessaire',
      '  ‚Üí Si le r√©sultat devient impossible, la condition est n√©cessaire',
      '',
      '√âtape 5: Garder seulement celles qui sont INDISPENSABLES',
      '',
      'LOGIQUE DES EXPRESSIONS',
      '‚Ä¢ "A seulement si B" = B est n√©cessaire pour A',
      '  ‚Üí √âquivalent √† "si A alors B"',
      '  ‚Üí Exemple: "Tu r√©ussis seulement si tu travailles" = si tu r√©ussis alors tu travailles',
      '‚Ä¢ "A si et seulement si B" = A et B sont √©quivalents',
      '  ‚Üí A est n√©cessaire ET suffisant pour B',
      '  ‚Üí Exemple: "X est pair si et seulement si X est divisible par 2"',
      '‚Ä¢ "Tous... sauf" = Tous les X sont Y, sauf Z',
      '  ‚Üí Exemple: "Tous les jours sauf dimanche" = lundi √† samedi',
      '‚Ä¢ "Au moins N" = N ou plus (minimum inclus)',
      '  ‚Üí "Au moins 3" = 3, 4, 5, 6...',
      '‚Ä¢ "Au plus N" = N ou moins (maximum inclus)',
      '  ‚Üí "Au plus 5" = 0, 1, 2, 3, 4, 5',
      '',
      'STRAT√âGIES GAGNANTES',
      '‚Ä¢ Utiliser des tableaux de v√©rit√©',
      '‚Ä¢ Tester des cas limites',
      '‚Ä¢ V√©rifier les implications logiques',
      '‚Ä¢ Identifier les conditions redondantes',
      '‚Ä¢ Chercher les conditions qui en impliquent d\'autres',
      '',
      'PI√àGES CLASSIQUES',
      '‚Ä¢ Ne pas confondre n√©cessaire et suffisant',
      '  ‚Üí Si A suffit pour B, on NE PEUT PAS dire que A est n√©cessaire',
      '  ‚Üí Plusieurs conditions peuvent suffire',
      '‚Ä¢ Attention aux conditions implicites',
      '  ‚Üí Lire entre les lignes',
      '‚Ä¢ Ne pas oublier les conditions √©videntes',
      '  ‚Üí Parfois la condition minimale inclut l\'√©vidence',
      '',
      'ASTUCES GAGNANTES POUR AVOIR DE BONNES NOTES',
      '‚Ä¢ Testez en RETIRANT chaque condition pour voir si elle est n√©cessaire',
      '‚Ä¢ "N√©cessaire" = sans elle, impossible',
      '‚Ä¢ "Suffisante" = avec elle, garanti',
      '‚Ä¢ "Seulement si" = condition n√©cessaire (A seulement si B = si A alors B)',
      '‚Ä¢ "Si et seulement si" = √©quivalence (n√©cessaire ET suffisant)',
      '‚Ä¢ Utilisez des tableaux de v√©rit√© pour les cas complexes',
      '‚Ä¢ Attention: plusieurs conditions peuvent √™tre suffisantes',
      '',
      'EXEMPLES DE TEST - QUESTIONS TYPES',
      'Q1: "Pour r√©ussir, il faut: A, B, C. Parmi ces conditions, lesquelles sont minimales ?"',
      '  ‚Üí Tester en retirant chaque condition',
      '  ‚Üí Si r√©sultat impossible sans A ‚Üí A est n√©cessaire',
      '  ‚Üí R√©ponse: Toutes celles qui sont n√©cessaires',
      '',
      'Q2: "X est n√©cessaire pour Y" signifie ?',
      '  ‚Üí Sans X, Y est impossible',
      '  ‚Üí Mais X ne garantit pas Y',
      '  ‚Üí R√©ponse: Sans X, Y est impossible',
      '',
      'Q3: "A seulement si B" signifie ?',
      '  ‚Üí B est n√©cessaire pour A',
      '  ‚Üí √âquivalent √† "si A alors B"',
      '  ‚Üí R√©ponse: Si A alors B (B n√©cessaire pour A)',
      '',
      'Q4: "Pour voter, il suffit d\'avoir 18 ans"',
      '  ‚Üí Avoir 18 ans est suffisant (garantit le vote)',
      '  ‚Üí Mais peut-√™tre pas n√©cessaire (si d\'autres conditions existent)',
      '  ‚Üí R√©ponse: Avoir 18 ans est une condition suffisante',
      '',
      'Q5: "Tous les X sont Y, sauf Z"',
      '  ‚Üí Tous les X sauf Z sont Y',
      '  ‚Üí Z est l\'exception',
      '  ‚Üí R√©ponse: Tous les X sauf Z sont Y',
      '',
      'Q6: "Au moins 3 conditions parmi A, B, C, D sont n√©cessaires"',
      '  ‚Üí Il faut au minimum 3 conditions',
      '  ‚Üí Mais peut-√™tre plus',
      '  ‚Üí R√©ponse: Minimum 3 conditions requises',
    ],
    examples: [
      'Exemple 1: "Pour √™tre admis, il faut: avoir 18 ans, avoir le bac, √™tre fran√ßais"',
      '‚Üí Si on retire "avoir 18 ans", admission impossible ‚Üí n√©cessaire',
      '‚Üí Si on retire "avoir le bac", admission impossible ‚Üí n√©cessaire',
      '‚Üí Si on retire "√™tre fran√ßais", admission impossible ‚Üí n√©cessaire',
      '‚Üí Toutes sont minimales',
      '',
      'Exemple 2: "Pour voter, il suffit d\'avoir 18 ans"',
      '‚Üí Avoir 18 ans est suffisant (mais pas n√©cessaire si d\'autres conditions existent)',
      '',
      'Exemple 3: "Tous les X sont Y, sauf Z"',
      '‚Üí Tous les X sauf Z sont Y',
    ],
  },
  resolution_problemes: {
    title: 'R√©solution de Probl√®mes',
    content: [
      'üéØ OBJECTIF: R√©soudre des probl√®mes math√©matiques (15 questions en 20 min)',
      '',
      'M√âTHODE G√âN√âRALE - √âTAPES ESSENTIELLES',
      '1. Lire attentivement l\'√©nonc√© (2 fois si n√©cessaire)',
      '   ‚Üí Surligner les informations importantes',
      '   ‚Üí Identifier ce qui est demand√©',
      '2. Identifier les donn√©es et l\'inconnue',
      '   ‚Üí Lister toutes les donn√©es num√©riques',
      '   ‚Üí D√©finir clairement ce qu\'on cherche',
      '3. Choisir la m√©thode de r√©solution',
      '   ‚Üí √âquation, proportion, formule, etc.',
      '4. Mettre en √©quation si n√©cessaire',
      '   ‚Üí Traduire le texte en langage math√©matique',
      '   ‚Üí "Le double de X" = 2X',
      '   ‚Üí "X de plus que Y" = X = Y + ...',
      '   ‚Üí "X fois plus que Y" = X = Y √ó ...',
      '5. R√©soudre et V√âRIFIER',
      '   ‚Üí Replacer dans l\'√©nonc√©',
      '   ‚Üí V√©rifier la coh√©rence',
      '',
      'TABLEAUX DE PROPORTIONNALIT√â - M√âTHODE SYST√âMATIQUE',
      'Pour r√©soudre les probl√®mes de proportion:',
      '',
      'M√©thode 1: Produit en croix',
      '  Si A/B = C/D alors A√óD = B√óC',
      '  Tableau:',
      '     A  |  B',
      '     C  |  D',
      '  ‚Üí A√óD = B√óC',
      '',
      'M√©thode 2: Coefficient de proportionnalit√©',
      '  Tableau:',
      '  Donn√©e  |  R√©sultat',
      '    3     |     6',
      '    5     |     ?',
      '  ‚Üí Coefficient k = 6/3 = 2',
      '  ‚Üí R√©sultat = 5 √ó 2 = 10',
      '',
      'TABLEAUX DE PARTAGE - M√âTHODE EN 3 √âTAPES',
      'Pour partager proportionnellement:',
      '',
      '√âtape 1: Calculer le total des parts',
      '  Exemple: Partager selon 2:3:5',
      '  ‚Üí Total = 2 + 3 + 5 = 10',
      '',
      '√âtape 2: Calculer chaque part',
      '  Tableau:',
      '  Personne |  Part  |  Calcul        |  Montant',
      '    1      |   2    |  (2/10) √ó 100  |   20‚Ç¨',
      '    2      |   3    |  (3/10) √ó 100  |   30‚Ç¨',
      '    3      |   5    |  (5/10) √ó 100  |   50‚Ç¨',
      '',
      '√âtape 3: V√©rifier (somme = montant total)',
      '  ‚Üí 20‚Ç¨ + 30‚Ç¨ + 50‚Ç¨ = 100‚Ç¨ ‚úì',
      '',
      'POURCENTAGES - FORMULES ESSENTIELLES',
      '‚Ä¢ Calculer x% d\'un nombre: nombre √ó (x/100)',
      '  ‚Üí Exemple: 20% de 150 = 150 √ó 0.20 = 30',
      '‚Ä¢ Calculer un pourcentage: (Partie / Total) √ó 100',
      '  ‚Üí Exemple: 30 sur 150 = (30/150) √ó 100 = 20%',
      '‚Ä¢ Augmentation de x%: Valeur √ó (1 + x/100)',
      '  ‚Üí Exemple: 100‚Ç¨ + 20% = 100 √ó 1.20 = 120‚Ç¨',
      '‚Ä¢ Diminution de x%: Valeur √ó (1 - x/100)',
      '  ‚Üí Exemple: 100‚Ç¨ - 15% = 100 √ó 0.85 = 85‚Ç¨',
      '‚Ä¢ PI√àGE: 100‚Ç¨ + 20% puis -20% ‚â† 100‚Ç¨',
      '  ‚Üí 100‚Ç¨ + 20% = 120‚Ç¨',
      '  ‚Üí 120‚Ç¨ - 20% = 96‚Ç¨ (pas 100‚Ç¨)',
      '  ‚Üí Les pourcentages ne s\'annulent pas car la base change',
      '‚Ä¢ Pourcentage d\'augmentation: ((Final - Initial) / Initial) √ó 100',
      '  ‚Üí Exemple: De 100 √† 120 = ((120-100)/100) √ó 100 = 20%',
      '',
      'PROPORTIONNALIT√â',
      '‚Ä¢ Produit en croix: Si A/B = C/D alors A√óD = B√óC',
      '  ‚Üí Exemple: 2/5 = x/10 ‚Üí 2√ó10 = 5√óx ‚Üí x = 4',
      '‚Ä¢ Coefficient de proportionnalit√©: k = r√©sultat / donn√©e',
      '  ‚Üí Exemple: Si 3 co√ªte 6‚Ç¨, alors k = 6/3 = 2',
      '',
      'VITESSE, DISTANCE, TEMPS',
      '‚Ä¢ Vitesse = Distance / Temps ‚Üí V = D / T',
      '‚Ä¢ Distance = Vitesse √ó Temps ‚Üí D = V √ó T',
      '‚Ä¢ Temps = Distance / Vitesse ‚Üí T = D / V',
      '‚Ä¢ Vitesse moyenne: Distance totale / Temps total',
      '  ‚Üí Attention: Pas la moyenne des vitesses !',
      '',
      'MOYENNE',
      '‚Ä¢ Moyenne = (Somme des valeurs) / (Nombre de valeurs)',
      '  ‚Üí Exemple: Moyenne de 10, 15, 20 = (10+15+20)/3 = 15',
      '',
      'PARTAGE PROPORTIONNEL',
      '‚Ä¢ Calculer le total des parts',
      '‚Ä¢ Chaque part = (sa valeur / total) √ó montant total',
      '  ‚Üí Exemple: Partager 100‚Ç¨ selon 2:3:5',
      '  ‚Üí Total parts = 2+3+5 = 10',
      '  ‚Üí Premier: (2/10) √ó 100 = 20‚Ç¨',
      '  ‚Üí Deuxi√®me: (3/10) √ó 100 = 30‚Ç¨',
      '  ‚Üí Troisi√®me: (5/10) √ó 100 = 50‚Ç¨',
      '',
      'TYPES DE PROBL√àMES FR√âQUENTS',
      '‚Ä¢ Proportions et pourcentages',
      '‚Ä¢ Probl√®mes de vitesse, distance, temps',
      '‚Ä¢ Probl√®mes de partage',
      '‚Ä¢ Probl√®mes de m√©lange',
      '‚Ä¢ Probl√®mes d\'√¢ge',
      '‚Ä¢ Probl√®mes de travail (taux de travail)',
      '',
      'STRAT√âGIES GAGNANTES',
      '‚Ä¢ Faire un sch√©ma si utile (dessiner la situation)',
      '‚Ä¢ Traduire en √©quations',
      '‚Ä¢ Utiliser des valeurs num√©riques simples pour tester',
      '‚Ä¢ V√©rifier la coh√©rence du r√©sultat',
      '‚Ä¢ V√©rifier les unit√©s',
      '‚Ä¢ Ne pas h√©siter √† tester les r√©ponses propos√©es',
      '',
      'PI√àGES CLASSIQUES',
      '‚Ä¢ Attention aux unit√©s (km/h, m/s, etc.)',
      '‚Ä¢ V√©rifier que la r√©ponse r√©pond bien √† la question',
      '‚Ä¢ Ne pas oublier les cas particuliers',
      '‚Ä¢ Les pourcentages successifs ne s\'annulent pas',
      '‚Ä¢ Vitesse moyenne ‚â† moyenne des vitesses',
      '',
      'ASTUCES GAGNANTES POUR AVOIR DE BONNES NOTES',
      '‚Ä¢ LISEZ 2 FOIS l\'√©nonc√© avant de commencer',
      '‚Ä¢ Surlignez les donn√©es num√©riques',
      '‚Ä¢ Identifiez clairement ce qui est demand√©',
      '‚Ä¢ V√©rifiez TOUJOURS votre r√©ponse en la repla√ßant dans l\'√©nonc√©',
      '‚Ä¢ Attention aux unit√©s (km/h, m/s, ‚Ç¨, etc.)',
      '‚Ä¢ Les pourcentages successifs NE S\'ANNULENT PAS',
      '‚Ä¢ Vitesse moyenne ‚â† moyenne des vitesses',
      '‚Ä¢ Testez avec des valeurs simples si vous √™tes bloqu√©',
      '',
      'EXEMPLES DE TEST - QUESTIONS TYPES',
      'Q1: "Un prix passe de 80‚Ç¨ √† 100‚Ç¨. Quelle est l\'augmentation en % ?"',
      '  ‚Üí ((100-80)/80) √ó 100 = (20/80) √ó 100 = 0.25 √ó 100 = 25%',
      '  ‚Üí R√©ponse: 25%',
      '',
      'Q2: "Partager 120‚Ç¨ selon 1:2:3"',
      '  ‚Üí Total parts = 1+2+3 = 6',
      '  ‚Üí 1√®re: (1/6) √ó 120 = 20‚Ç¨',
      '  ‚Üí 2√®me: (2/6) √ó 120 = 40‚Ç¨',
      '  ‚Üí 3√®me: (3/6) √ó 120 = 60‚Ç¨',
      '  ‚Üí R√©ponse: 20‚Ç¨, 40‚Ç¨, 60‚Ç¨',
      '',
      'Q3: "Un train fait 240 km en 2h. Quelle est sa vitesse ?"',
      '  ‚Üí V = D/T = 240/2 = 120 km/h',
      '  ‚Üí R√©ponse: 120 km/h',
      '',
      'Q4: "Si un prix augmente de 10% puis baisse de 10%, retrouve-t-on le prix initial ?"',
      '  ‚Üí 100‚Ç¨ + 10% = 110‚Ç¨',
      '  ‚Üí 110‚Ç¨ - 10% = 99‚Ç¨ (pas 100‚Ç¨)',
      '  ‚Üí NON, les pourcentages ne s\'annulent pas',
      '  ‚Üí R√©ponse: Non',
      '',
      'Q5: "Un cycliste fait 60 km en 2h, puis 40 km en 1h. Vitesse moyenne ?"',
      '  ‚Üí Distance totale = 60 + 40 = 100 km',
      '  ‚Üí Temps total = 2 + 1 = 3h',
      '  ‚Üí Vitesse moyenne = 100/3 ‚âà 33.3 km/h',
      '  ‚Üí ATTENTION: Pas (30+40)/2 = 35 km/h !',
      '  ‚Üí R√©ponse: 33.3 km/h',
      '',
      'Q6: "Un article co√ªte 80‚Ç¨. Il augmente de 25%. Quel est le nouveau prix ?"',
      '  ‚Üí 80 √ó (1 + 25/100) = 80 √ó 1.25 = 100‚Ç¨',
      '  ‚Üí R√©ponse: 100‚Ç¨',
      '',
      'Q7: "15% de 240 = ?"',
      '  ‚Üí 10% = 24, 5% = 12',
      '  ‚Üí 15% = 24 + 12 = 36',
      '  ‚Üí R√©ponse: 36',
      '',
      'Q8: "Un prix baisse de 20%. De quel % doit-il remonter pour revenir au prix initial ?"',
      '  ‚Üí 100‚Ç¨ - 20% = 80‚Ç¨',
      '  ‚Üí Pour revenir √† 100‚Ç¨: ((100-80)/80) √ó 100 = 25%',
      '  ‚Üí Il doit remonter de 25% (pas 20%)',
      '  ‚Üí R√©ponse: 25%',
    ],
    examples: [
      'Exemple 1: "Un article co√ªte 80‚Ç¨. Il augmente de 25%. Quel est le nouveau prix ?"',
      '‚Üí 80 √ó 1.25 = 100‚Ç¨',
      '',
      'Exemple 2: "Un cycliste fait 60 km en 2h, puis 40 km en 1h. Vitesse moyenne ?"',
      '‚Üí Distance totale = 100 km, Temps total = 3h',
      '‚Üí Vitesse moyenne = 100/3 ‚âà 33.3 km/h (pas la moyenne de 30 et 40)',
      '',
      'Exemple 3: "Partager 150‚Ç¨ entre 3 personnes selon 2:3:4"',
      '‚Üí Total parts = 9',
      '‚Üí 1√®re: (2/9) √ó 150 = 33.33‚Ç¨',
      '‚Üí 2√®me: (3/9) √ó 150 = 50‚Ç¨',
      '‚Üí 3√®me: (4/9) √ó 150 = 66.67‚Ç¨',
    ],
  },
};

export default function CheatsheetPage() {
  const params = useParams();
  const router = useRouter();
  const sectionParam = params.section as string | undefined;
  const section: SectionId = (SECTION_IDS.includes(sectionParam as SectionId) 
    ? sectionParam 
    : SECTION_IDS[0]) as SectionId;
  
  const sectionData = SECTIONS[section];
  const cheatsheet = CHEATSHEETS[section] || CHEATSHEETS.calcul_mental;

  const handlePrint = () => {
    window.print();
  };

  return (
    <div className="min-h-screen bg-gray-50 dark:bg-gray-900">
      <Navbar />
      <div className="container mx-auto px-4 py-8">
        <div className="mb-8 flex items-center justify-between">
          <div>
            <h1 className="text-3xl font-bold mb-2">Cheat Sheet - {sectionData.name}</h1>
            <p className="text-gray-600 dark:text-gray-400">
              R√©sum√© des m√©thodes et formules essentielles
            </p>
          </div>
          <div className="flex items-center space-x-4">
            <Select
              value={section}
              onChange={(e) => router.push(`/cheatsheet/${e.target.value}`)}
              className="w-auto"
            >
              {SECTION_IDS.map((sectionId) => (
                <option key={sectionId} value={sectionId}>
                  {SECTIONS[sectionId].name}
                </option>
              ))}
            </Select>
            <Button onClick={handlePrint} variant="outline">
              <Printer className="h-4 w-4 mr-2" />
              Imprimer
            </Button>
          </div>
        </div>

        <Card className="print:shadow-none print:border-0">
          <CardHeader>
            <CardTitle className="text-2xl">{cheatsheet.title}</CardTitle>
            <CardDescription>M√©thodes, formules et astuces essentielles</CardDescription>
          </CardHeader>
          <CardContent>
            <div className="prose dark:prose-invert max-w-none">
              <div className="space-y-2 font-mono text-sm">
                {cheatsheet.content.map((line, idx) => {
                  if (line === '') {
                    return <div key={idx} className="h-2" />;
                  }
                  if (line.startsWith('‚Ä¢')) {
                    return (
                      <div key={idx} className="ml-4 text-gray-700 dark:text-gray-300">
                        {line}
                      </div>
                    );
                  }
                  if (line.startsWith('  ‚Üí')) {
                    return (
                      <div key={idx} className="ml-8 text-gray-600 dark:text-gray-400 text-xs italic">
                        {line}
                      </div>
                    );
                  }
                  if (line.startsWith('Q:')) {
                    return (
                      <div key={idx} className="ml-4 mt-3 text-blue-700 dark:text-blue-400 font-semibold">
                        {line}
                      </div>
                    );
                  }
                  return (
                    <div
                      key={idx}
                      className="font-bold text-lg mt-4 mb-2 text-gray-900 dark:text-gray-100"
                    >
                      {line}
                    </div>
                  );
                })}
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Exemples concrets */}
        {cheatsheet.examples && cheatsheet.examples.length > 0 && (
          <Card className="mt-6 border-blue-200 dark:border-blue-800">
            <CardHeader>
              <CardTitle className="text-xl text-blue-700 dark:text-blue-400">
                üìù Exemples Concrets de Test
              </CardTitle>
              <CardDescription>Questions types que vous pourriez rencontrer</CardDescription>
            </CardHeader>
            <CardContent>
              <div className="space-y-4">
                {cheatsheet.examples.map((example, idx) => {
                  if (example === '') {
                    return <div key={idx} className="h-2" />;
                  }
                  if (example.startsWith('Exemple')) {
                    return (
                      <div key={idx} className="font-semibold text-base text-gray-900 dark:text-gray-100 mt-2">
                        {example}
                      </div>
                    );
                  }
                  if (example.startsWith('‚Üí')) {
                    return (
                      <div key={idx} className="ml-4 text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 p-2 rounded">
                        {example}
                      </div>
                    );
                  }
                  return (
                    <div key={idx} className="text-sm text-gray-600 dark:text-gray-400">
                      {example}
                    </div>
                  );
                })}
              </div>
            </CardContent>
          </Card>
        )}

        {/* Additional Tips */}
        <Card className="mt-6">
          <CardHeader>
            <CardTitle>üí° Conseils G√©n√©raux pour R√©ussir</CardTitle>
          </CardHeader>
          <CardContent>
            <ul className="space-y-2 text-sm">
              <li>‚Ä¢ <strong>Entra√Ænez-vous r√©guli√®rement</strong> pour automatiser les m√©thodes</li>
              <li>‚Ä¢ <strong>M√©morisez les formules</strong> les plus fr√©quentes (carr√©s, pourcentages, etc.)</li>
              <li>‚Ä¢ <strong>G√©rez votre temps</strong>: 20 min pour 15 questions = ~1min20 par question</li>
              <li>‚Ä¢ <strong>Ne bloquez pas</strong>: Passez √† la suivante si vous √™tes coinc√©</li>
              <li>‚Ä¢ <strong>V√©rifiez vos r√©ponses</strong> si le temps le permet</li>
              <li>‚Ä¢ <strong>Restez calme</strong> et m√©thodique</li>
              <li>‚Ä¢ <strong>Lisez attentivement</strong> les √©nonc√©s (souvent les erreurs viennent de l√†)</li>
            </ul>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}

